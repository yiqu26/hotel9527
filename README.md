# ğŸ“‹ æ—…é¤¨é ç´„ç®¡ç†ç³»çµ±è³‡æ–™åº«èªªæ˜æ–‡ä»¶

## ğŸ“Š è³‡æ–™åº«æ¦‚è¿°

- **è³‡æ–™åº«åç¨±**: `test1`
- **å»ºç«‹æ—¥æœŸ**: `2023-04-23 23:11:42`
- **ç›¸å®¹æ€§ç­‰ç´š**: `160`
- **å®šåºè¦å‰‡**: `Chinese_Taiwan_Stroke_CI`
- **ç‹€æ…‹**: `READ_WRITE`

> ğŸ’¡ æœ¬è³‡æ–™åº«ç³»çµ±è¨­è¨ˆç”¨æ–¼ç®¡ç†æ—…é¤¨çš„é ç´„ã€å®¢æˆ¶è³‡è¨Šå’Œæˆ¿é–“ç®¡ç†ã€‚ç³»çµ±åŒ…å«å®¢æˆ¶ç®¡ç†ã€æˆ¿é–“ç®¡ç†ã€é ç´„è™•ç†ä»¥åŠæ­·å²è¨˜éŒ„åŠŸèƒ½ã€‚

## ğŸ“ è³‡æ–™è¡¨çµæ§‹

### æ ¸å¿ƒè³‡æ–™è¡¨

#### ğŸ‘¤ å®¢æˆ¶ç›¸é—œè³‡æ–™è¡¨

1. **Client (å®¢æˆ¶è³‡æ–™è¡¨)**
   - `cid` (int, PK): å®¢æˆ¶ç·¨è™Ÿ
   - `caccount` (nvarchar(100), NOT NULL): å®¢æˆ¶å¸³è™Ÿ
   - `cpassword` (nvarchar(64), NOT NULL): å®¢æˆ¶å¯†ç¢¼

2. **ClientInfo (å®¢æˆ¶è©³ç´°è³‡è¨Š)**
   - `cid` (int, PK): å®¢æˆ¶ç·¨è™Ÿï¼Œå°æ‡‰ Client è¡¨
   - `cname` (nvarchar(50), NOT NULL): å®¢æˆ¶å§“å
   - `gender` (nvarchar(20)): æ€§åˆ¥
   - `cbirthday` (datetime, NOT NULL): å‡ºç”Ÿæ—¥æœŸ
   - `emergency` (nvarchar(50)): ç·Šæ€¥è¯çµ¡äºº
   - `id` (char(20), NOT NULL): èº«åˆ†è­‰è™Ÿç¢¼

3. **Phone (é›»è©±è³‡æ–™è¡¨)**
   - `id` (char(20), NOT NULL, PK): èº«åˆ†è­‰è™Ÿç¢¼
   - `phone` (nvarchar(20), NOT NULL): é›»è©±è™Ÿç¢¼
   - `emergencyphone` (nvarchar(20), NOT NULL): ç·Šæ€¥è¯çµ¡é›»è©±

#### ğŸ¨ æˆ¿é–“ç›¸é—œè³‡æ–™è¡¨

4. **Room (æˆ¿é–“è³‡æ–™è¡¨)**
   - `rid` (int, NOT NULL, PK): æˆ¿é–“ç·¨è™Ÿ
   - `rdesc` (nvarchar(200)): æˆ¿é–“æè¿°
   - `rlimit` (int, NOT NULL): æˆ¿é–“å®¹ç´äººæ•¸é™åˆ¶
   - `sid` (int, NOT NULL): ç‹€æ…‹ç·¨è™Ÿï¼Œå°æ‡‰ Status è¡¨
   - `tid` (int): æˆ¿å‹ç·¨è™Ÿï¼Œå°æ‡‰ Type è¡¨

5. **Type (æˆ¿å‹è³‡æ–™è¡¨)**
   - `tid` (int, NOT NULL, PK): æˆ¿å‹ç·¨è™Ÿ
   - `tdesc` (nvarchar(50)): æˆ¿å‹æè¿°

6. **Status (ç‹€æ…‹è³‡æ–™è¡¨)**
   - `sid` (int, NOT NULL, PK): ç‹€æ…‹ç·¨è™Ÿ
   - `status` (nvarchar(50)): ç‹€æ…‹æè¿°

7. **Price (åƒ¹æ ¼è³‡æ–™è¡¨)**
   - `rlimit` (int, NOT NULL): æˆ¿é–“å®¹ç´äººæ•¸é™åˆ¶
   - `rprice` (int, NOT NULL): æˆ¿é–“åƒ¹æ ¼

#### ğŸ“… é ç´„ç›¸é—œè³‡æ–™è¡¨

8. **Reserve (é ç´„è³‡æ–™è¡¨)**
   - `reid` (int, NOT NULL, PK): é ç´„ç·¨è™Ÿ
   - `caccount` (nvarchar(100), NOT NULL): å®¢æˆ¶å¸³è™Ÿï¼Œå°æ‡‰ Client è¡¨
   - `fee` (int): è²»ç”¨
   - `rid` (int): æˆ¿é–“ç·¨è™Ÿï¼Œå°æ‡‰ Room è¡¨

9. **History (æ­·å²è¨˜éŒ„è¡¨)**
   - `hid` (int, NOT NULL, PK): æ­·å²è¨˜éŒ„ç·¨è™Ÿ
   - `caccount` (nvarchar(100)): å®¢æˆ¶å¸³è™Ÿï¼Œå°æ‡‰ Client è¡¨
   - `citime` (datetime2): å…¥ä½æ™‚é–“
   - `cetime` (datetime2): é€€æˆ¿æ™‚é–“
   - `reid` (int): é ç´„ç·¨è™Ÿï¼Œå°æ‡‰ Reserve è¡¨

### ğŸ” æª¢è¦–è¡¨

1. **dbo.vw_roomView**
   - `rid` (int, NOT NULL): æˆ¿é–“ç·¨è™Ÿ
   - `rlimit` (int, NOT NULL): æˆ¿é–“å®¹ç´äººæ•¸é™åˆ¶
   - `status` (nvarchar(50)): ç‹€æ…‹
   - `rdesc` (nvarchar(50)): æˆ¿é–“æè¿°

2. **dbo.vw_cAvailableView**
   - `rdesc` (nvarchar(200)): æˆ¿é–“æè¿°
   - `rid` (int, NOT NULL): æˆ¿é–“ç·¨è™Ÿ
   - `rlimit` (int, NOT NULL): æˆ¿é–“å®¹ç´äººæ•¸é™åˆ¶
   - `status` (nvarchar(50)): ç‹€æ…‹
   - `tdesc` (nvarchar(50)): æˆ¿å‹æè¿°

3. **dbo.vw_clientView**
   - `birthday` (nvarchar(4000)): å‡ºç”Ÿæ—¥æœŸ
   - `emergency` (nvarchar(50)): ç·Šæ€¥è¯çµ¡äºº
   - `emergency_phone` (nvarchar(20), NOT NULL): ç·Šæ€¥è¯çµ¡é›»è©±
   - `gender` (nvarchar(20)): æ€§åˆ¥
   - `name` (nvarchar(50), NOT NULL): å§“å
   - `phone` (nvarchar(20), NOT NULL): é›»è©±è™Ÿç¢¼

## ğŸ”— è³‡æ–™è¡¨é—œä¿‚

ç³»çµ±ä¸­çš„å¤–éµé—œä¿‚å¦‚ä¸‹ï¼š

1. **FK_ClientInfo** - `Client (cid)` â¡ï¸ `ClientInfo (cid)`
2. **FK_Phone** - `ClientInfo (id)` â¡ï¸ `Phone (id)`
3. **FK_ClientH** - `Client (caccount)` â¡ï¸ `History (caccount)`
4. **FK_Reserve** - `History (reid)` â¡ï¸ `Reserve (reid)`
5. **FK_ClientR** - `Client (caccount)` â¡ï¸ `Reserve (caccount)`
6. **FK_Room** - `Reserve (rid)` â¡ï¸ `Room (rid)`
7. **FK_Price** - `Room (rlimit)` â¡ï¸ `Price (rlimit)`
8. **FK_Status** - `Room (sid)` â¡ï¸ `Status (sid)`
9. **FK_Type** - `Room (tid)` â¡ï¸ `Type (tid)`

## ğŸ“Š è³‡æ–™è¡¨åƒè€ƒé—œä¿‚èªªæ˜

### ğŸ‘¤ å®¢æˆ¶ç›¸é—œ
- **Client æ˜¯æ ¸å¿ƒè¡¨æ ¼**ï¼šå…¶ä»–å®¢æˆ¶ç›¸é—œè¡¨æ ¼åƒè€ƒæ­¤è¡¨æ ¼
  - `ClientInfo` è¡¨é€é `cid` æ¬„ä½åƒè€ƒ `Client` è¡¨
  - `Reserve` è¡¨é€é `caccount` æ¬„ä½åƒè€ƒ `Client` è¡¨
  - `History` è¡¨é€é `caccount` æ¬„ä½åƒè€ƒ `Client` è¡¨

- **ClientInfo èˆ‡ Phone é—œä¿‚**ï¼š
  - `Phone` è¡¨é€é `id` æ¬„ä½åƒè€ƒ `ClientInfo` è¡¨çš„èº«åˆ†è­‰è™Ÿç¢¼

### ğŸ¨ æˆ¿é–“ç›¸é—œ
- **Room æ˜¯æ ¸å¿ƒè¡¨æ ¼**ï¼š
  - `Room` è¡¨é€é `sid` æ¬„ä½åƒè€ƒ `Status` è¡¨å–å¾—æˆ¿é–“ç‹€æ…‹
  - `Room` è¡¨é€é `tid` æ¬„ä½åƒè€ƒ `Type` è¡¨å–å¾—æˆ¿å‹è³‡è¨Š
  - `Room` è¡¨é€é `rlimit` æ¬„ä½åƒè€ƒ `Price` è¡¨å–å¾—åƒ¹æ ¼è³‡è¨Š
  - `Reserve` è¡¨é€é `rid` æ¬„ä½åƒè€ƒ `Room` è¡¨

### ğŸ“… é ç´„ç›¸é—œ
- **Reserve æ˜¯é ç´„æ ¸å¿ƒè¡¨æ ¼**ï¼š
  - è¨˜éŒ„å®¢æˆ¶(`caccount`)é ç´„çš„æˆ¿é–“(`rid`)
  - `History` è¡¨é€é `reid` æ¬„ä½åƒè€ƒ `Reserve` è¡¨ï¼Œè¨˜éŒ„é ç´„çš„å…¥ä½é€€æˆ¿æ­·å²

### ğŸ”„ è³‡æ–™æµå‘
1. å®¢æˆ¶è¨»å†Šï¼š`Client` â¡ï¸ `ClientInfo` â¡ï¸ `Phone`
2. å®¢æˆ¶é ç´„ï¼š`Client` â¡ï¸ `Reserve` â¡ï¸ `Room`
3. é ç´„æ­·å²ï¼š`Reserve` â¡ï¸ `History`

## ğŸ“ˆ ERåœ–

ç³»çµ±çš„ERåœ–å·²åœ¨å°ˆæ¡ˆä¸­æä¾›ï¼Œé¡¯ç¤ºäº†å„è³‡æ–™è¡¨ä¹‹é–“çš„é—œä¿‚å’Œä¾è³´æ€§ã€‚ä¸»è¦å¯¦é«”åŒ…æ‹¬ï¼š
- ğŸ‘¤ å®¢æˆ¶ (Client)
- ğŸ“‹ å®¢æˆ¶è³‡è¨Š (ClientInfo)
- ğŸ¨ æˆ¿é–“ (Room)
- ğŸ“… é ç´„ (Reserve)
- ğŸ“œ æ­·å²è¨˜éŒ„ (History)

ä»¥åŠå®ƒå€‘ä¹‹é–“çš„é—œè¯é—œä¿‚ã€‚

## ğŸ’¼ æ¥­å‹™æµç¨‹èªªæ˜

1. **ğŸ‘¤ å®¢æˆ¶è¨»å†Šæµç¨‹**ï¼š
   - å®¢æˆ¶å»ºç«‹å¸³è™Ÿ (Client è¡¨)
   - å¡«å¯«å€‹äººè³‡è¨Š (ClientInfo è¡¨)
   - æä¾›è¯çµ¡æ–¹å¼ (Phone è¡¨)

2. **ğŸ”„ é ç´„æµç¨‹**ï¼š
   - å®¢æˆ¶é¸æ“‡å¯ç”¨æˆ¿é–“ (ä½¿ç”¨ vw_cAvailableView æª¢è¦–)
   - å»ºç«‹é ç´„è¨˜éŒ„ (Reserve è¡¨)
   - è¨ˆç®—è²»ç”¨ (åŸºæ–¼ Price è¡¨)

3. **ğŸ¨ å…¥ä½å’Œé€€æˆ¿æµç¨‹**ï¼š
   - å®¢æˆ¶å…¥ä½æ™‚ï¼Œè¨˜éŒ„å…¥ä½æ™‚é–“ (History è¡¨çš„ citime)
   - å®¢æˆ¶é€€æˆ¿æ™‚ï¼Œè¨˜éŒ„é€€æˆ¿æ™‚é–“ (History è¡¨çš„ cetime)
   - å®Œæˆçš„é ç´„å°‡è¢«ä¿å­˜ç‚ºæ­·å²è¨˜éŒ„

## ğŸ› ï¸ ç³»çµ±ç¶­è­·å»ºè­°

1. **ğŸ’¾ å®šæœŸå‚™ä»½**ï¼šå»ºè­°æ¯æ—¥é€²è¡Œå®Œæ•´å‚™ä»½ï¼Œæ¯å°æ™‚é€²è¡Œå·®ç•°å‚™ä»½ã€‚
2. **ğŸ“Š æ•ˆèƒ½ç›£æ§**ï¼šç›£æ§å¸¸ç”¨æŸ¥è©¢çš„æ•ˆèƒ½ï¼Œå¿…è¦æ™‚å»ºç«‹é©ç•¶çš„ç´¢å¼•ã€‚
3. **ğŸ”’ å®‰å…¨æªæ–½**ï¼š
   - å®šæœŸæ›´æ–°è³‡æ–™åº«ä¼ºæœå™¨å®‰å…¨è£œä¸
   - ä½¿ç”¨åŠ å¯†ä¿è­·å®¢æˆ¶å¯†ç¢¼å’Œæ•æ„Ÿè³‡è¨Š
   - å¯¦æ–½é©ç•¶çš„å­˜å–æ§åˆ¶æ©Ÿåˆ¶

## â„¹ï¸ ç³»çµ±ç‰ˆæœ¬è³‡è¨Š

- è³‡æ–™åº«å¼•æ“ï¼š`Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64)`
- ç‰ˆæœ¬ï¼š`Express Edition (64-bit)`
- ä½œæ¥­ç³»çµ±ï¼š`Windows 10 Pro (Build 19045)`
